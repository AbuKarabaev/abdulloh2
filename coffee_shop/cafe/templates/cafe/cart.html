{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Корзина</title>
    <link rel="stylesheet" href="{% static 'css/cart.css' %}">
    <script src="{% static 'js/cart.js' %}" defer></script>
</head>
<body>
    <div class="cart-container fade-in">
        <h1>Моя корзина</h1>
        <p>Для оформления заказа, нажмите «Оформить заказ».</p>
        <table class="cart-table">
            <thead>
                <tr>
                    <th>Товар</th>
                    <th>Кол-во</th>
                    <th>Цена</th>
                    <th>Сумма</th>
                    <th>Действия</th>
                </tr>
            </thead>
            <tbody>
                {% if cart_items %}
                {% for item in cart_items %}
                <tr>
                    <td><a href="#">{{ item.product_name }}</a></td>
                    <td><input type="number" class="quantity-input" data-id="{{ item.id }}" value="{{ item.quantity }}" min="1"></td>
                    <td>{{ item.price|floatformat:2 }} руб.</td>
                    <td class="item-total">{{ item.total|floatformat:2 }} руб.</td>
                    <td><a href="#" class="remove" data-id="{{ item.id }}">Удалить</a></td>
                </tr>
                {% endfor %}
                {% else %}
                <tr>
                    <td colspan="5" class="empty-cart">Корзина пуста</td>
                </tr>
                {% endif %}
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3">Итого:</td>
                    <td id="cart-total">{{ cart_total|floatformat:2 }} руб.</td>
                    <td></td>
                </tr>
            </tfoot>
        </table>
        <div class="coupon-container">
            <label for="coupon">Купон:</label>
            <input type="text" id="coupon" placeholder="Введите код купона">
        </div>
        <div class="cart-actions">
            <button class="btn recalculate">Пересчитать</button>
            <button class="btn checkout">Оформить заказ</button>
        </div>
    </div>
</body>
</html>
